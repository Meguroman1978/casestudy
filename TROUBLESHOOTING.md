# ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚¬ã‚¤ãƒ‰

## ã‚¨ãƒ©ãƒ¼: "Unexpected token '<', "<html> <"... is not valid JSON"

### ðŸ” **å•é¡Œã®èª¬æ˜Ž**

ã“ã®ã‚¨ãƒ©ãƒ¼ã¯ã€ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãŒJSONã‚’æœŸå¾…ã—ã¦ã„ã‚‹ã®ã«ã€ã‚µãƒ¼ãƒãƒ¼ãŒHTMLã‚¨ãƒ©ãƒ¼ãƒšãƒ¼ã‚¸ã‚’è¿”ã—ã¦ã„ã‚‹å ´åˆã«ç™ºç”Ÿã—ã¾ã™ã€‚

### âœ… **ä¿®æ­£å†…å®¹ï¼ˆæœ€æ–°ç‰ˆã«å«ã¾ã‚Œã¦ã„ã¾ã™ï¼‰**

1. **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®Content-Type ãƒã‚§ãƒƒã‚¯**
   - JSONãŒè¿”ã£ã¦ããŸã‹ç¢ºèª
   - HTMLãŒè¿”ã£ã¦ããŸå ´åˆã¯æ˜Žç¢ºãªã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤º

2. **ã‚µãƒ¼ãƒãƒ¼å´ã®è©³ç´°ãªã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸**
   - ã‚¨ãƒ©ãƒ¼ã‚¿ã‚¤ãƒ—ã‚’è­˜åˆ¥
   - å…·ä½“çš„ãªå•é¡Œã‚’ç‰¹å®šï¼ˆãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜ã€Google Sheetsã€Excelèª­ã¿è¾¼ã¿ãªã©ï¼‰
   - è©³ç´°ãªã‚¨ãƒ©ãƒ¼æƒ…å ±ã‚’ãƒ­ã‚°ã«è¨˜éŒ²

### ðŸ”§ **Render.comã§ã®ãƒ­ã‚°ç¢ºèªæ–¹æ³•**

#### ã‚¹ãƒ†ãƒƒãƒ—1: Render.comãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã«ã‚¢ã‚¯ã‚»ã‚¹
1. https://render.com/ ã«ãƒ­ã‚°ã‚¤ãƒ³
2. è©²å½“ã®Web Serviceã‚’é–‹ã

#### ã‚¹ãƒ†ãƒƒãƒ—2: ãƒ­ã‚°ã‚’ç¢ºèª
1. **ã€ŒLogsã€ã‚¿ãƒ–ã‚’ã‚¯ãƒªãƒƒã‚¯**
2. ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ­ã‚°ãŒè¡¨ç¤ºã•ã‚Œã¾ã™
3. ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸæ™‚é–“å¸¯ã®ãƒ­ã‚°ã‚’ç¢ºèª

#### ã‚¹ãƒ†ãƒƒãƒ—3: ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’æŽ¢ã™

ä»¥ä¸‹ã®ã‚ˆã†ãªãƒ­ã‚°ã‚’æŽ¢ã—ã¦ãã ã•ã„ï¼š

```
="="="="="="="="="="="="="="="="="="="="="="="="="="="="="="="="="="="="="
äºˆæœŸã—ãªã„ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿ: [ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸]
ã‚¨ãƒ©ãƒ¼ã‚¿ã‚¤ãƒ—: [ã‚¨ãƒ©ãƒ¼ç¨®é¡ž]
Traceback (most recent call last):
  ...
="="="="="="="="="="="="="="="="="="="="="="="="="="="="="="="="="="="="="
```

---

## ã‚ˆãã‚ã‚‹ã‚¨ãƒ©ãƒ¼ã¨è§£æ±ºæ–¹æ³•

### ã‚¨ãƒ©ãƒ¼1: `FileNotFoundError: [Errno 2] No such file or directory: 'uploads/...'`

**åŽŸå› :** uploadsãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãŒå­˜åœ¨ã—ãªã„

**è§£æ±ºç­–:**
- âœ… æœ€æ–°ç‰ˆã§ã¯è‡ªå‹•çš„ã«ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œæˆã—ã¾ã™
- Render.comã§å†ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¦ãã ã•ã„

**ç¢ºèªæ–¹æ³•:**
```bash
# ãƒ­ãƒ¼ã‚«ãƒ«ã§ç¢ºèª
ls -la uploads/
```

---

### ã‚¨ãƒ©ãƒ¼2: `Google Sheetå–å¾—å¤±æ•—`

**åŽŸå› :** Google Sheetsã«ã‚¢ã‚¯ã‚»ã‚¹ã§ããªã„

**è§£æ±ºç­–:**

1. **ç’°å¢ƒå¤‰æ•°ã‚’ç¢ºèª**
   - Render.comãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ â†’ Environment ã‚¿ãƒ–
   - `GOOGLE_SHEET_ID` ãŒæ­£ã—ãè¨­å®šã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
   - å€¤: `1EsNylv4Leg73lb_AXJLMBnQKkozvHhLzfVGlz4HN2Tk`

2. **Google Sheetsã®å…¬é–‹è¨­å®šã‚’ç¢ºèª**
   - Google Sheetsã‚’é–‹ã
   - å³ä¸Šã®ã€Œå…±æœ‰ã€â†’ã€Œãƒªãƒ³ã‚¯ã‚’çŸ¥ã£ã¦ã„ã‚‹å…¨å“¡ã€â†’ã€Œé–²è¦§è€…ã€
   - å¿…ãšå…¬é–‹è¨­å®šã«ã—ã¦ãã ã•ã„

3. **ãƒ†ã‚¹ãƒˆURL**
   ãƒ–ãƒ©ã‚¦ã‚¶ã§ä»¥ä¸‹ã®URLã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã€CSVãŒãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã§ãã‚‹ã‹ç¢ºèªï¼š
   ```
   https://docs.google.com/spreadsheets/d/1EsNylv4Leg73lb_AXJLMBnQKkozvHhLzfVGlz4HN2Tk/export?format=csv&gid=0
   ```

---

### ã‚¨ãƒ©ãƒ¼3: `Template.pptx not found`

**åŽŸå› :** Google Slidesã‹ã‚‰ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã§ããªã„

**è§£æ±ºç­–:**

1. **ç’°å¢ƒå¤‰æ•°ã‚’ç¢ºèª**
   - `GOOGLE_SLIDES_ID` ãŒæ­£ã—ãè¨­å®šã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
   - å€¤: `1KpJaTV4jgaUUDFhZg59KGGzaJCsO-rggv12NWRdkess`

2. **Google Slidesã®å…¬é–‹è¨­å®šã‚’ç¢ºèª**
   - Google Slidesã‚’é–‹ã
   - å³ä¸Šã®ã€Œå…±æœ‰ã€â†’ã€Œãƒªãƒ³ã‚¯ã‚’çŸ¥ã£ã¦ã„ã‚‹å…¨å“¡ã€â†’ã€Œé–²è¦§è€…ã€

3. **ãƒ†ã‚¹ãƒˆURL**
   ãƒ–ãƒ©ã‚¦ã‚¶ã§ä»¥ä¸‹ã®URLã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã€PPTXãŒãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã§ãã‚‹ã‹ç¢ºèªï¼š
   ```
   https://docs.google.com/presentation/d/1KpJaTV4jgaUUDFhZg59KGGzaJCsO-rggv12NWRdkess/export/pptx
   ```

4. **ãƒ­ã‚°ã‚’ç¢ºèª**
   èµ·å‹•ãƒ­ã‚°ã§ä»¥ä¸‹ã‚’ç¢ºèªï¼š
   ```
   âœ… Template.pptx downloaded successfully (XXX bytes)
   ```

---

### ã‚¨ãƒ©ãƒ¼4: `OpenAI API error`

**åŽŸå› :** OpenAI APIã‚­ãƒ¼ãŒç„¡åŠ¹ã¾ãŸã¯è¨­å®šã•ã‚Œã¦ã„ãªã„

**è§£æ±ºç­–:**

1. **ç’°å¢ƒå¤‰æ•°ã‚’ç¢ºèª**
   - `OPENAI_API_KEY` ãŒæ­£ã—ãè¨­å®šã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª

2. **APIã‚­ãƒ¼ãŒæœ‰åŠ¹ã‹ç¢ºèª**
   - https://platform.openai.com/api-keys ã«ã‚¢ã‚¯ã‚»ã‚¹
   - ã‚­ãƒ¼ãŒæœ‰åŠ¹ã§ã€ä½¿ç”¨åˆ¶é™ã«é”ã—ã¦ã„ãªã„ã‹ç¢ºèª

3. **ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚’ç¢ºèª**
   - https://platform.openai.com/usage ã«ã‚¢ã‚¯ã‚»ã‚¹
   - æ®‹é«˜ãŒã‚ã‚‹ã‹ç¢ºèª

---

### ã‚¨ãƒ©ãƒ¼5: `pandas.errors.ParserError: Error tokenizing data`

**åŽŸå› :** Excelãƒ•ã‚¡ã‚¤ãƒ«ã®å½¢å¼ãŒæ­£ã—ããªã„

**è§£æ±ºç­–:**

1. **ãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼ã‚’ç¢ºèª**
   - `.xlsx` ã¾ãŸã¯ `.xls` ãƒ•ã‚¡ã‚¤ãƒ«ã‹ç¢ºèª
   - ãƒ•ã‚¡ã‚¤ãƒ«ãŒç ´æã—ã¦ã„ãªã„ã‹ç¢ºèª

2. **å¿…é ˆã‚«ãƒ©ãƒ ã‚’ç¢ºèª**
   - `Page Url`
   - `Business Id`
   - `Business Name`
   - `Business Country`
   - `Channel Id`
   - `Channel Name`
   - `Video Views`

3. **ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å†ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ**
   - Google Sheetsã¾ãŸã¯Excelã§é–‹ã
   - åˆ¥åã§ä¿å­˜ã—ã¦ã¿ã‚‹

---

### ã‚¨ãƒ©ãƒ¼6: `MemoryError` ã¾ãŸã¯ `Out of memory`

**åŽŸå› :** ãƒ¡ãƒ¢ãƒªä¸è¶³ï¼ˆç„¡æ–™ãƒ—ãƒ©ãƒ³ã¯512MBåˆ¶é™ï¼‰

**è§£æ±ºç­–:**

1. **ãƒ‡ãƒ¼ã‚¿ã‚µã‚¤ã‚ºã‚’ç¢ºèª**
   - ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã™ã‚‹Excelãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚µã‚¤ã‚ºã‚’ç¢ºèª
   - å¤§ãã™ãŽã‚‹å ´åˆã¯åˆ†å‰²ã—ã¦ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰

2. **Render.comã®ãƒ—ãƒ©ãƒ³ã‚’ç¢ºèª**
   - ç„¡æ–™ãƒ—ãƒ©ãƒ³: 512MB
   - Starter ãƒ—ãƒ©ãƒ³: 1GBä»¥ä¸Š

---

## ðŸ” ãƒ‡ãƒãƒƒã‚°æ–¹æ³•

### ãƒ­ãƒ¼ã‚«ãƒ«ã§ãƒ†ã‚¹ãƒˆ

```bash
# ãƒ­ãƒ¼ã‚«ãƒ«ã§å®Ÿè¡Œ
cd /home/user/webapp
python app.py

# ãƒ–ãƒ©ã‚¦ã‚¶ã§ã‚¢ã‚¯ã‚»ã‚¹
# http://localhost:5000
```

### ãƒ­ã‚°ãƒ¬ãƒ™ãƒ«ã‚’å¤‰æ›´

app.py ã®å…ˆé ­ã§ï¼š
```python
logging.basicConfig(level=logging.DEBUG)  # ã‚ˆã‚Šè©³ç´°ãªãƒ­ã‚°
```

### ç’°å¢ƒå¤‰æ•°ã‚’ç¢ºèª

```bash
# .envãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç¢ºèª
cat /home/user/webapp/.env

# ç’°å¢ƒå¤‰æ•°ãŒèª­ã¿è¾¼ã¾ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
python -c "
import os
from dotenv import load_dotenv
load_dotenv()
print('GOOGLE_SHEET_ID:', os.getenv('GOOGLE_SHEET_ID'))
print('GOOGLE_SLIDES_ID:', os.getenv('GOOGLE_SLIDES_ID'))
print('OPENAI_API_KEY:', 'Set' if os.getenv('OPENAI_API_KEY') else 'Not set')
"
```

---

## ðŸ“ž ã‚µãƒãƒ¼ãƒˆ

å•é¡ŒãŒè§£æ±ºã—ãªã„å ´åˆï¼š

1. **Render.comã®ãƒ­ã‚°ã‚’ã‚³ãƒ”ãƒ¼**
   - ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸéƒ¨åˆ†ï¼ˆå‰å¾Œ50è¡Œç¨‹åº¦ï¼‰

2. **ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ã‚³ãƒ”ãƒ¼**
   - ãƒ–ãƒ©ã‚¦ã‚¶ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ï¼ˆF12ã‚­ãƒ¼ï¼‰ã®ã‚¨ãƒ©ãƒ¼

3. **ç’°å¢ƒæƒ…å ±**
   - Python version
   - ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³

ã“ã‚Œã‚‰ã®æƒ…å ±ã‚’å…±æœ‰ã—ã¦ãã ã•ã„ã€‚

---

## âœ… ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

ãƒ‡ãƒ—ãƒ­ã‚¤å¾Œã«ä»¥ä¸‹ã‚’ç¢ºèªï¼š

- [ ] Render.comã§ãƒ‡ãƒ—ãƒ­ã‚¤ãŒæˆåŠŸã—ã¦ã„ã‚‹
- [ ] ç’°å¢ƒå¤‰æ•°ãŒ3ã¤è¨­å®šã•ã‚Œã¦ã„ã‚‹ï¼ˆOPENAI_API_KEY, GOOGLE_SHEET_ID, GOOGLE_SLIDES_IDï¼‰
- [ ] Google SheetsãŒå…¬é–‹è¨­å®šã«ãªã£ã¦ã„ã‚‹
- [ ] Google SlidesãŒå…¬é–‹è¨­å®šã«ãªã£ã¦ã„ã‚‹
- [ ] Template.pptxãŒãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã•ã‚Œã¦ã„ã‚‹ï¼ˆèµ·å‹•ãƒ­ã‚°ã§ç¢ºèªï¼‰
- [ ] ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒèµ·å‹•ã—ã¦ã„ã‚‹
- [ ] ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹
- [ ] Excelãƒ•ã‚¡ã‚¤ãƒ«ãŒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã§ãã‚‹
